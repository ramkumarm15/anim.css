(function ($) {
   const animationSelect = $("#animation_select");
   const animObj = $("#animObj");
   let animationValue = null;
   let animInfinite = false;

   function animateOnPageLoad() {
      animObj.addClass("rotateIn");
      setTimeout(() => {
         animObj.removeClass("rotateIn");
      }, 800);
   }

   function animationChange() {
      animationSelect.change((e) => {
         animationValue = e.target.value;
         animObj.addClass(animationValue);
         setTimeout(() => {
            animObj.removeClass(animationValue);
            animationValue = null;
         }, 2000);
      });
   }

   const infiniteCheck = $("#infiniteCheck");

   function animateInfinite() {
      infiniteCheck.change(function (e) {
         if ($(this).is(":checked")) {
            animObj.toggleClass("infinite");
            // animInfinite = true;
         } else {
            animObj.toggleClass("infinite");
            // animInfinite = false;
         }
      });
   }

   function __init__() {
      animateOnPageLoad();
      animationChange();
      animateInfinite();
   }
   __init__();
})(jQuery);
